<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.24.57"/><title data-react-helmet="true">Shriek!</title><link data-react-helmet="true" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Code|Josefin+Sans:400,700,700i|Josefin+Slab:400,700&amp;display=swap"/><link as="script" rel="preload" href="/webpack-runtime-52f6e96fcb682bc9ffae.js"/><link as="script" rel="preload" href="/framework-e4952f826774c332bedf.js"/><link as="script" rel="preload" href="/app-0db4bd6bf60e11445858.js"/><link as="script" rel="preload" href="/component---gatsby-theme-mdx-deck-src-templates-deck-js-ecc75058e5644a618726.js"/><link as="fetch" rel="preload" href="/page-data/print/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
        var mode = localStorage.getItem('theme-ui-color-mode');
        if (!mode) return
        document.body.classList.add('theme-ui-' + mode);
      } catch (e) {} })();</script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="ut8w6s">body{margin:0;overflow:hidden;}</style><style data-emotion-css="bdfrlc">.css-bdfrlc{width:100vw;height:100vh;}.css-bdfrlc *{box-sizing:border-box;}</style><div class="css-bdfrlc"><div style="outline:none;height:100%" tabindex="-1"><style data-emotion-css="ih5bxe">.css-ih5bxe{box-sizing:border-box;width:100%;height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;position:relative;color:var(--theme-ui-colors-text,#F8F8F2);background-color:var(--theme-ui-colors-background,#282A36);font-family:'Josefin Slab',serif;font-size:20px;}@media screen and (min-width:40em){.css-ih5bxe{font-size:24px;}}@media screen and (min-width:52em){.css-ih5bxe{font-size:32px;}}@media screen and (min-width:64em){.css-ih5bxe{font-size:48px;}}</style><div class="css-ih5bxe"><style data-emotion-css="1m6xvpt">.css-1m6xvpt{width:100%;height:100%;background-image:url(/static/variant-bg-de0567ecc6163b4c1c5da43df533cbc0.png);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div style="display:flex;align-items:center;justify-content:center;padding-right:1rem;color:black;background-color:black" class="css-1m6xvpt"><style data-emotion-css="1ciybb8">.css-1ciybb8{font-family:'Josefin Sans',sans-serif;line-height:0.9;font-weight:700;text-transform:uppercase;font-size:10vw;word-wrap:wrap;max-width:100%;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;text-align:center;}</style><h1 class="css-1ciybb8">Shriek</h1></div></div><div class="css-ih5bxe"><style data-emotion-css="5i3yyd">.css-5i3yyd{width:100%;height:100%;background-image:url(/static/demo-e5bc367302f6797d84da03156356f71d.png);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div style="background-size:contain;background-color:#fff" class="css-5i3yyd"></div></div><div class="css-ih5bxe"><style data-emotion-css="1bgxorb">.css-1bgxorb{font-family:'Josefin Sans',sans-serif;line-height:0.9;font-weight:700;text-transform:uppercase;font-size:4vw;margin:0;text-align:center;}</style><h2 class="css-1bgxorb">Teknologier</h2><style data-emotion-css="p7913k">.css-p7913k{font-family:"Fira Code",monospace;padding:16px;}</style><pre class="css-p7913k"><style data-emotion-css="ksqtdq">.css-ksqtdq{font-family:"Fira Code",monospace;}</style><code class="css-ksqtdq">
1. getUserMedia, AudioContext
2. Worklets, WebWorkers
3. SVG/DOM/nettleser API
4. WebRTC P2P og PeerJS

</code></pre></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">Agenda</h2><pre class="css-p7913k"><code class="css-ksqtdq">
Del 1: `getUserMedia`, `AudioContext` og volum.
Del 2: Render Loops, User input og transform
Del 3: EventListeners
Del 4: P2P, WebRTC og PeerJS

</code></pre></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">User Media</h2><style data-emotion-css="1uk1gs8">.css-1uk1gs8{margin:0;}</style><ul class="css-1uk1gs8"><style data-emotion-css="1sq1gba">.css-1sq1gba{line-height:1.5;}</style><li class="css-1sq1gba">MediaDevices-API brukes for tilgang til diverse media</li><li class="css-1sq1gba"><code class="css-ksqtdq">getUserMedia</code> for tilgang til kamera eller mikrofon</li><li class="css-1sq1gba">Krever &quot;Secure Context&quot;</li><li class="css-1sq1gba">Styrer permissions</li></ul></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="bt0i5n">.css-bt0i5n{color:#F8F8F2;background-color:#282A36;}.css-bt0i5n .token-prolog,.css-bt0i5n .token-constant,.css-bt0i5n .token-builtin{color:rgb(189,147,249);}.css-bt0i5n .token-inserted,.css-bt0i5n .token-function{color:rgb(80,250,123);}.css-bt0i5n .token-deleted{color:rgb(255,85,85);}.css-bt0i5n .token-changed{color:rgb(255,184,108);}.css-bt0i5n .token-punctuation,.css-bt0i5n .token-symbol{color:rgb(248,248,242);}.css-bt0i5n .token-string,.css-bt0i5n .token-char,.css-bt0i5n .token-tag,.css-bt0i5n .token-selector{color:rgb(255,121,198);}.css-bt0i5n .token-keyword,.css-bt0i5n .token-variable{color:rgb(189,147,249);font-style:italic;}.css-bt0i5n .token-comment{color:rgb(98,114,164);}.css-bt0i5n .token-attr-name{color:rgb(241,250,140);}</style><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">async</span><span class="token-plain"> </span><span class="token-keyword">function</span><span class="token-plain"> </span><span class="token-function">getMediaStream</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-keyword">c</span><span class="token-keyword">o</span><span class="token-keyword">n</span><span class="token-keyword">s</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-plain">m</span><span class="token-plain">e</span><span class="token-plain">d</span><span class="token-plain">i</span><span class="token-plain">a</span><span class="token-plain">S</span><span class="token-plain">t</span><span class="token-plain">r</span><span class="token-plain">e</span><span class="token-plain">a</span><span class="token-plain">m</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">a</span><span class="token-keyword">w</span><span class="token-keyword">a</span><span class="token-keyword">i</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-dom">n</span><span class="token-dom">a</span><span class="token-dom">v</span><span class="token-dom">i</span><span class="token-dom">g</span><span class="token-dom">a</span><span class="token-dom">t</span><span class="token-dom">o</span><span class="token-dom">r</span><span class="token-punctuation">.</span><span class="token-property-access">m</span><span class="token-property-access">e</span><span class="token-property-access">d</span><span class="token-property-access">i</span><span class="token-property-access">a</span><span class="token-property-access">D</span><span class="token-property-access">e</span><span class="token-property-access">v</span><span class="token-property-access">i</span><span class="token-property-access">c</span><span class="token-property-access">e</span><span class="token-property-access">s</span><span class="token-punctuation">.</span><span class="token-method">g</span><span class="token-method">e</span><span class="token-method">t</span><span class="token-method">U</span><span class="token-method">s</span><span class="token-method">e</span><span class="token-method">r</span><span class="token-method">M</span><span class="token-method">e</span><span class="token-method">d</span><span class="token-method">i</span><span class="token-method">a</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">      video</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">  </span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> video </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelector</span><span class="token-punctuation">(</span><span class="token-string">&#x27;video&#x27;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">  video</span><span class="token-punctuation">.</span><span class="token-property-access">srcObject</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> mediaStream</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-comment">// Du må ha et video-element i DOM:</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-comment">// &lt;video autoPlay /&gt;</span></div></div><div></div></code></pre><style data-emotion-css="fs2d1k">.css-fs2d1k{position:absolute;bottom:0;width:calc(100% - 2em);box-sizing:border-box;margin:0.3em 1em;padding:0.5em;background:rgba(2,2,2,0.9);text-align:center;color:#d6deeb;background-color:rgba(10,10,10,0.9);}</style><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Det å lytte på webkamera kan gjøres på noen få linjer</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-keyword">c</span><span class="token-keyword">o</span><span class="token-keyword">n</span><span class="token-keyword">s</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-plain">m</span><span class="token-plain">e</span><span class="token-plain">d</span><span class="token-plain">i</span><span class="token-plain">a</span><span class="token-plain">S</span><span class="token-plain">t</span><span class="token-plain">r</span><span class="token-plain">e</span><span class="token-plain">a</span><span class="token-plain">m</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">a</span><span class="token-keyword">w</span><span class="token-keyword">a</span><span class="token-keyword">i</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-dom">n</span><span class="token-dom">a</span><span class="token-dom">v</span><span class="token-dom">i</span><span class="token-dom">g</span><span class="token-dom">a</span><span class="token-dom">t</span><span class="token-dom">o</span><span class="token-dom">r</span><span class="token-punctuation">.</span><span class="token-property-access">m</span><span class="token-property-access">e</span><span class="token-property-access">d</span><span class="token-property-access">i</span><span class="token-property-access">a</span><span class="token-property-access">D</span><span class="token-property-access">e</span><span class="token-property-access">v</span><span class="token-property-access">i</span><span class="token-property-access">c</span><span class="token-property-access">e</span><span class="token-property-access">s</span><span class="token-punctuation">.</span><span class="token-method">g</span><span class="token-method">e</span><span class="token-method">t</span><span class="token-method">U</span><span class="token-method">s</span><span class="token-method">e</span><span class="token-method">r</span><span class="token-method">M</span><span class="token-method">e</span><span class="token-method">d</span><span class="token-method">i</span><span class="token-method">a</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">​</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Kalle getUserMedia</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-keyword">c</span><span class="token-keyword">o</span><span class="token-keyword">n</span><span class="token-keyword">s</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-plain">m</span><span class="token-plain">e</span><span class="token-plain">d</span><span class="token-plain">i</span><span class="token-plain">a</span><span class="token-plain">S</span><span class="token-plain">t</span><span class="token-plain">r</span><span class="token-plain">e</span><span class="token-plain">a</span><span class="token-plain">m</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">a</span><span class="token-keyword">w</span><span class="token-keyword">a</span><span class="token-keyword">i</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-dom">n</span><span class="token-dom">a</span><span class="token-dom">v</span><span class="token-dom">i</span><span class="token-dom">g</span><span class="token-dom">a</span><span class="token-dom">t</span><span class="token-dom">o</span><span class="token-dom">r</span><span class="token-punctuation">.</span><span class="token-property-access">m</span><span class="token-property-access">e</span><span class="token-property-access">d</span><span class="token-property-access">i</span><span class="token-property-access">a</span><span class="token-property-access">D</span><span class="token-property-access">e</span><span class="token-property-access">v</span><span class="token-property-access">i</span><span class="token-property-access">c</span><span class="token-property-access">e</span><span class="token-property-access">s</span><span class="token-punctuation">.</span><span class="token-method">g</span><span class="token-method">e</span><span class="token-method">t</span><span class="token-method">U</span><span class="token-method">s</span><span class="token-method">e</span><span class="token-method">r</span><span class="token-method">M</span><span class="token-method">e</span><span class="token-method">d</span><span class="token-method">i</span><span class="token-method">a</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">​</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Send inn at du vil ha video</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-keyword">c</span><span class="token-keyword">o</span><span class="token-keyword">n</span><span class="token-keyword">s</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-plain">m</span><span class="token-plain">e</span><span class="token-plain">d</span><span class="token-plain">i</span><span class="token-plain">a</span><span class="token-plain">S</span><span class="token-plain">t</span><span class="token-plain">r</span><span class="token-plain">e</span><span class="token-plain">a</span><span class="token-plain">m</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">a</span><span class="token-keyword">w</span><span class="token-keyword">a</span><span class="token-keyword">i</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-dom">n</span><span class="token-dom">a</span><span class="token-dom">v</span><span class="token-dom">i</span><span class="token-dom">g</span><span class="token-dom">a</span><span class="token-dom">t</span><span class="token-dom">o</span><span class="token-dom">r</span><span class="token-punctuation">.</span><span class="token-property-access">m</span><span class="token-property-access">e</span><span class="token-property-access">d</span><span class="token-property-access">i</span><span class="token-property-access">a</span><span class="token-property-access">D</span><span class="token-property-access">e</span><span class="token-property-access">v</span><span class="token-property-access">i</span><span class="token-property-access">c</span><span class="token-property-access">e</span><span class="token-property-access">s</span><span class="token-punctuation">.</span><span class="token-method">g</span><span class="token-method">e</span><span class="token-method">t</span><span class="token-method">U</span><span class="token-method">s</span><span class="token-method">e</span><span class="token-method">r</span><span class="token-method">M</span><span class="token-method">e</span><span class="token-method">d</span><span class="token-method">i</span><span class="token-method">a</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">​</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Sette stream til video-elementet som finnes i DOM</span></p></div></div></div></div></div><div class="css-ih5bxe"><style data-emotion-css="17i1bd7">.css-17i1bd7{padding:0 1rem;}</style><p class="css-17i1bd7">Voila!</p><video width="800" height="600" autoplay=""></video></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">Web Audio API</h2><ul class="css-1uk1gs8"><li class="css-1sq1gba">AudioContext</li><li class="css-1sq1gba">Kommuniserer igjennom noder</li><li class="css-1sq1gba">Streams</li><li class="css-1sq1gba">Buffers</li></ul></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> stream </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">await</span><span class="token-plain"> </span><span class="token-dom">navigator</span><span class="token-punctuation">.</span><span class="token-property-access">mediaDevices</span><span class="token-punctuation">.</span><span class="token-method">getUserMedia</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">  video</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">source</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">I stedet for å be om video,</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> stream </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">await</span><span class="token-plain"> </span><span class="token-dom">navigator</span><span class="token-punctuation">.</span><span class="token-property-access">mediaDevices</span><span class="token-punctuation">.</span><span class="token-method">getUserMedia</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">source</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Så kan du be om audio</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> stream </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">await</span><span class="token-plain"> </span><span class="token-dom">navigator</span><span class="token-punctuation">.</span><span class="token-property-access">mediaDevices</span><span class="token-punctuation">.</span><span class="token-method">getUserMedia</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">const</span><span class="token-plain"> source </span><span class="token-operator">=</span><span class="token-plain"> audioContext</span><span class="token-punctuation">.</span><span class="token-method">createMediaStreamSource</span><span class="token-punctuation">(</span><span class="token-plain">stream</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">source</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">AudioContext er fundamentet i Web Audio</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">const</span><span class="token-plain"> source </span><span class="token-operator">=</span><span class="token-plain"> audioContext</span><span class="token-punctuation">.</span><span class="token-method">createMediaStreamSource</span><span class="token-punctuation">(</span><span class="token-plain">stream</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">source</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Vi kan bruke mikrofonen som lydkilde</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">const</span><span class="token-plain"> source </span><span class="token-operator">=</span><span class="token-plain"> audioContext</span><span class="token-punctuation">.</span><span class="token-method">createMediaStreamSource</span><span class="token-punctuation">(</span><span class="token-plain">stream</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">source</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Prosessering av lyd går igjennom AudioNodes</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">const</span><span class="token-plain"> source </span><span class="token-operator">=</span><span class="token-plain"> audioContext</span><span class="token-punctuation">.</span><span class="token-method">createMediaStreamSource</span><span class="token-punctuation">(</span><span class="token-plain">stream</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">source</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Så kan du gjøre operasjoner på lyden</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">const</span><span class="token-plain"> source </span><span class="token-operator">=</span><span class="token-plain"> audioContext</span><span class="token-punctuation">.</span><span class="token-method">createMediaStreamSource</span><span class="token-punctuation">(</span><span class="token-plain">stream</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">source</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Og du kan analysere lyden</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">const</span><span class="token-plain"> source </span><span class="token-operator">=</span><span class="token-plain"> audioContext</span><span class="token-punctuation">.</span><span class="token-method">createMediaStreamSource</span><span class="token-punctuation">(</span><span class="token-plain">stream</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">source</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Og nodene linkes sammen i AudioContext og rutes ut</span></p></div></div></div></div></div><div class="css-ih5bxe"><style data-emotion-css="1sjuqh">.css-1sjuqh{width:100%;height:100%;background-image:url(/static/audiocontext-23a1dcb80e4c4e8897858956f47643f2.png);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div style="background-size:100%" class="css-1sjuqh"></div></div><div class="css-ih5bxe"><div><span>Volum: </span><input type="range" min="0" max="10" step="1" value="2"/></div><canvas width="600" height="300"></canvas></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">AudioWorklet</h2><ul class="css-1uk1gs8"><li class="css-1sq1gba">En worklet, nesten som en Web Worker</li><li class="css-1sq1gba">Gir tilgang til lavere nivå i render pipeline</li><li class="css-1sq1gba">Brukes når det er behov for mye prosessering</li><li class="css-1sq1gba">Krever &quot;Secure Context&quot;</li></ul></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-constant">ATTACK</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-number">0.3</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-constant">INTERVAL_MS</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-number">200</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-function">r</span><span class="token-function">e</span><span class="token-function">g</span><span class="token-function">i</span><span class="token-function">s</span><span class="token-function">t</span><span class="token-function">e</span><span class="token-function">r</span><span class="token-function">P</span><span class="token-function">r</span><span class="token-function">o</span><span class="token-function">c</span><span class="token-function">e</span><span class="token-function">s</span><span class="token-function">s</span><span class="token-function">o</span><span class="token-function">r</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">  </span><span class="token-string">&quot;volumeworklet&quot;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain"> </span><span class="token-plain"> </span><span class="token-keyword">c</span><span class="token-keyword">l</span><span class="token-keyword">a</span><span class="token-keyword">s</span><span class="token-keyword">s</span><span class="token-plain"> </span><span class="token-class-name">V</span><span class="token-class-name">o</span><span class="token-class-name">l</span><span class="token-class-name">u</span><span class="token-class-name">m</span><span class="token-class-name">e</span><span class="token-class-name">W</span><span class="token-class-name">o</span><span class="token-class-name">r</span><span class="token-class-name">k</span><span class="token-class-name">l</span><span class="token-class-name">e</span><span class="token-class-name">t</span><span class="token-plain"> </span><span class="token-keyword">e</span><span class="token-keyword">x</span><span class="token-keyword">t</span><span class="token-keyword">e</span><span class="token-keyword">n</span><span class="token-keyword">d</span><span class="token-keyword">s</span><span class="token-plain"> </span><span class="token-class-name">A</span><span class="token-class-name">u</span><span class="token-class-name">d</span><span class="token-class-name">i</span><span class="token-class-name">o</span><span class="token-class-name">W</span><span class="token-class-name">o</span><span class="token-class-name">r</span><span class="token-class-name">k</span><span class="token-class-name">l</span><span class="token-class-name">e</span><span class="token-class-name">t</span><span class="token-class-name">P</span><span class="token-class-name">r</span><span class="token-class-name">o</span><span class="token-class-name">c</span><span class="token-class-name">e</span><span class="token-class-name">s</span><span class="token-class-name">s</span><span class="token-class-name">o</span><span class="token-class-name">r</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">    </span><span class="token-function">constructor</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">      </span><span class="token-keyword">super</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">      </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">previousAudioBlockVolumes</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">0</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">      </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">previousSampleUpdateFrame</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-number">0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">      </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">previousSentVolume</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-number">0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">    </span><span class="token-function">process</span><span class="token-punctuation">(</span><span class="token-parameter">inputs</span><span class="token-punctuation">,</span><span class="token-parameter"> outputs</span><span class="token-punctuation">,</span><span class="token-parameter"> parameters</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">      </span><span class="token-comment">// select first channel (should be mono from microphone)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">      </span><span class="token-keyword">const</span><span class="token-plain"> channel </span><span class="token-operator">=</span><span class="token-plain"> inputs</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">      </span><span class="token-comment">// Make sure something is connected</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">      </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">channel </span><span class="token-operator">&amp;&amp;</span><span class="token-plain"> channel</span><span class="token-punctuation">.</span><span class="token-property-access">length</span><span class="token-plain"> </span><span class="token-operator">&gt;</span><span class="token-plain"> </span><span class="token-number">0</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">        </span><span class="token-keyword">const</span><span class="token-plain"> samples </span><span class="token-operator">=</span><span class="token-plain"> channel</span><span class="token-punctuation">[</span><span class="token-number">0</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">        </span><span class="token-keyword">let</span><span class="token-plain"> squaredSum </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-number">0</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">        </span><span class="token-comment">// Calculated the squared-sum of all samples in current audio block</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">        </span><span class="token-keyword">for</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-keyword">let</span><span class="token-plain"> i </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-number">0</span><span class="token-punctuation">;</span><span class="token-plain"> i </span><span class="token-operator">&lt;</span><span class="token-plain"> samples</span><span class="token-punctuation">.</span><span class="token-property-access">length</span><span class="token-punctuation">;</span><span class="token-plain"> </span><span class="token-operator">++</span><span class="token-plain">i</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">          squaredSum </span><span class="token-operator">+=</span><span class="token-plain"> samples</span><span class="token-punctuation">[</span><span class="token-plain">i</span><span class="token-punctuation">]</span><span class="token-plain"> </span><span class="token-operator">*</span><span class="token-plain"> samples</span><span class="token-punctuation">[</span><span class="token-plain">i</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">        </span><span class="token-comment">// Calculate the root mean-square for samples squared-sum</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-plain">        </span><span class="token-comment">// the RMS approximates a volume across samples in current frame</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">        </span><span class="token-keyword">const</span><span class="token-plain"> currentVolume </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-known-class-name">Math</span><span class="token-punctuation">.</span><span class="token-method">sqrt</span><span class="token-punctuation">(</span><span class="token-plain">squaredSum </span><span class="token-operator">/</span><span class="token-plain"> samples</span><span class="token-punctuation">.</span><span class="token-property-access">length</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">        </span><span class="token-comment">// sampleRate is available from the AudioWorklet global scope:</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">        </span><span class="token-comment">// https://developer.mozilla.org/en-US/docs/Web/API/AudioWorkletGlobalScope</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-plain">        </span><span class="token-comment">// sampleRate is expressed in hertz, like 48000 Hz</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-plain">        </span><span class="token-comment">// Hertz in this case means samples per second</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-34"><span class="token-plain">        </span><span class="token-comment">// So to send an update every &quot;INTERVAL_MS&quot; (200 ms),</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-35"><span class="token-plain">        </span><span class="token-comment">// we must find how many samples are processed in 0.2 sec (200 / 1000)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-36"><span class="token-plain">        </span><span class="token-keyword">const</span><span class="token-plain"> updateIntervalInSamples </span><span class="token-operator">=</span><span class="token-plain"> sampleRate </span><span class="token-operator">*</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-constant">INTERVAL_MS</span><span class="token-plain"> </span><span class="token-operator">/</span><span class="token-plain"> </span><span class="token-number">1000</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-37"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-38"><span class="token-plain">        </span><span class="token-comment">// currentFrame is available from the AudioWorklet global scope:</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-39"><span class="token-plain">        </span><span class="token-comment">// https://developer.mozilla.org/en-US/docs/Web/API/AudioWorkletGlobalScope</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-40"><span class="token-plain">        </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-41"><span class="token-plain">          currentFrame </span><span class="token-operator">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-42"><span class="token-plain">          </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">previousSampleUpdateFrame</span><span class="token-plain"> </span><span class="token-operator">+</span><span class="token-plain"> updateIntervalInSamples</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-43"><span class="token-plain">        </span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-44"><span class="token-plain">          </span><span class="token-comment">// Set current frame as update frame</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-45"><span class="token-plain">          </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">previousSampleUpdateFrame</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> currentFrame</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-46"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-47"><span class="token-plain">          </span><span class="token-comment">// Calculate avg volume from all processed</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-48"><span class="token-plain">          </span><span class="token-comment">// audio blocks since last update</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-49"><span class="token-plain">          </span><span class="token-keyword">let</span><span class="token-plain"> numberOfCalculatedVolumes </span><span class="token-operator">=</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-50"><span class="token-plain">            </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">previousAudioBlockVolumes</span><span class="token-punctuation">.</span><span class="token-property-access">length</span><span class="token-plain"> </span><span class="token-operator">+</span><span class="token-plain"> </span><span class="token-number">1</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-51"><span class="token-plain">          </span><span class="token-keyword">let</span><span class="token-plain"> volumeBlocksSum </span><span class="token-operator">=</span><span class="token-plain"> currentVolume</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-52"><span class="token-plain">          </span><span class="token-keyword">for</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-keyword">let</span><span class="token-plain"> i </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-number">0</span><span class="token-punctuation">;</span><span class="token-plain"> i </span><span class="token-operator">&lt;</span><span class="token-maybe-class-name">CodeSurfer</span><span class="token-plain"> </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">previousAudioBlockVolumes</span><span class="token-punctuation">.</span><span class="token-property-access">length</span><span class="token-punctuation">;</span><span class="token-plain"> </span><span class="token-operator">++</span><span class="token-plain">i</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-53"><span class="token-plain">            volumeBlocksSum </span><span class="token-operator">+=</span><span class="token-plain"> </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">previousAudioBlockVolumes</span><span class="token-punctuation">[</span><span class="token-plain">i</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-54"><span class="token-plain">          </span><span class="token-keyword">const</span><span class="token-plain"> avgVolumeAcrossAudioBlocks </span><span class="token-operator">=</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-55"><span class="token-plain">            volumeBlocksSum </span><span class="token-operator">/</span><span class="token-plain"> numberOfCalculatedVolumes</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-56"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-57"><span class="token-plain">          </span><span class="token-comment">// reset volume cache</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-58"><span class="token-plain">          </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">previousAudioBlockVolumes</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">[</span><span class="token-punctuation">]</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-59"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-60"><span class="token-plain">          </span><span class="token-comment">// Fast attack, slow release</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-61"><span class="token-plain">          </span><span class="token-comment">// This means we want to react quickly when volume goes up</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-62"><span class="token-plain">          </span><span class="token-comment">// but more slowly when volume goes down</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-63"><span class="token-plain">          </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">previousSentVolume</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-known-class-name">Math</span><span class="token-punctuation">.</span><span class="token-method">max</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-64"><span class="token-plain">            avgVolumeAcrossAudioBlocks</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-65"><span class="token-plain">            </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">previousSentVolume</span><span class="token-plain"> </span><span class="token-operator">*</span><span class="token-plain"> </span><span class="token-constant">ATTACK</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-66"><span class="token-plain">          </span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-67"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-68"><span class="token-plain">          </span><span class="token-comment">// Send volume across message port</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-69"><span class="token-plain">          </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">port</span><span class="token-punctuation">.</span><span class="token-method">postMessage</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span><span class="token-plain"> volume</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">previousSentVolume</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-70"><span class="token-plain">        </span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">else</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-71"><span class="token-plain">          </span><span class="token-comment">// Hasn&#x27;t been 200 ms since last update,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-72"><span class="token-plain">          </span><span class="token-comment">// cache the current volume</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-73"><span class="token-plain">          </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">previousAudioBlockVolumes</span><span class="token-punctuation">.</span><span class="token-method">push</span><span class="token-punctuation">(</span><span class="token-plain">currentVolume</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-74"><span class="token-plain">        </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-75"><span class="token-plain">      </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-76"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-77"><span class="token-plain">      </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-78"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-79"><span class="token-plain">  </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-80"><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Batteries included: volume-worklet.js</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">        </span><span class="token-comment">// https://developer.mozilla.org/en-US/docs/Web/API/AudioWorkletGlobalScope</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Registrerer workleten</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">        </span><span class="token-comment">// https://developer.mozilla.org/en-US/docs/Web/API/AudioWorkletGlobalScope</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Må gi den ett navn, og en klasse som arver fra AudioWorkletProcessor</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">        </span><span class="token-comment">// https://developer.mozilla.org/en-US/docs/Web/API/AudioWorkletGlobalScope</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Input og output buffers i process funksjonen</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">        </span><span class="token-comment">// https://developer.mozilla.org/en-US/docs/Web/API/AudioWorkletGlobalScope</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Inputs inneholder alle kanaler i en array</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">        </span><span class="token-comment">// https://developer.mozilla.org/en-US/docs/Web/API/AudioWorkletGlobalScope</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Tar kvadratisk sum av alle, og så kvadratisk gjennomsnitt av det igjen</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">        </span><span class="token-comment">// https://developer.mozilla.org/en-US/docs/Web/API/AudioWorkletGlobalScope</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Med et intervall på ca. 200 ms</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">        </span><span class="token-comment">// https://developer.mozilla.org/en-US/docs/Web/API/AudioWorkletGlobalScope</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Så sender vi kalkulert volum over Message-port</span></p></div></div></div></div></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> stream </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">await</span><span class="token-plain"> </span><span class="token-dom">navigator</span><span class="token-punctuation">.</span><span class="token-property-access">mediaDevices</span><span class="token-punctuation">.</span><span class="token-method">getUserMedia</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">  audio</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-keyword">const</span><span class="token-plain"> audioContext </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-maybe-class-name">AudioContext</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-keyword">const</span><span class="token-plain"> source </span><span class="token-operator">=</span><span class="token-plain"> audioContext</span><span class="token-punctuation">.</span><span class="token-method">createMediaStreamSource</span><span class="token-punctuation">(</span><span class="token-plain">stream</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-keyword">await</span><span class="token-plain"> audioContext</span><span class="token-punctuation">.</span><span class="token-property-access">audioWorklet</span><span class="token-punctuation">.</span><span class="token-method">addModule</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">  </span><span class="token-string">&#x27;./volume-worklet.js&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-keyword">const</span><span class="token-plain"> workletNode </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-maybe-class-name">AudioWorkletNode</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">  audioContext</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">  </span><span class="token-string">&#x27;volumeworklet&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">workletNode</span><span class="token-punctuation">.</span><span class="token-property-access">port</span><span class="token-punctuation">.</span><span class="token-method-variable">onmessage</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">message</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">  </span><span class="token-console">console</span><span class="token-punctuation">.</span><span class="token-method">log</span><span class="token-punctuation">(</span><span class="token-plain">message</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">source</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">  </span><span class="token-punctuation">.</span><span class="token-method">connect</span><span class="token-punctuation">(</span><span class="token-plain">workletNode</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">  </span><span class="token-punctuation">.</span><span class="token-method">connect</span><span class="token-punctuation">(</span><span class="token-plain">audioContext</span><span class="token-punctuation">.</span><span class="token-property-access">destination</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Hvis vi har tilgang til mikrofon</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-keyword">const</span><span class="token-plain"> source </span><span class="token-operator">=</span><span class="token-plain"> audioContext</span><span class="token-punctuation">.</span><span class="token-method">createMediaStreamSource</span><span class="token-punctuation">(</span><span class="token-plain">stream</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Så kan vi laste inn en audio-worklet</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-keyword">const</span><span class="token-plain"> source </span><span class="token-operator">=</span><span class="token-plain"> audioContext</span><span class="token-punctuation">.</span><span class="token-method">createMediaStreamSource</span><span class="token-punctuation">(</span><span class="token-plain">stream</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Så må vi instantiere denne som en egen node</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-keyword">const</span><span class="token-plain"> source </span><span class="token-operator">=</span><span class="token-plain"> audioContext</span><span class="token-punctuation">.</span><span class="token-method">createMediaStreamSource</span><span class="token-punctuation">(</span><span class="token-plain">stream</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Og instantiere denne som en egen node</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-keyword">const</span><span class="token-plain"> source </span><span class="token-operator">=</span><span class="token-plain"> audioContext</span><span class="token-punctuation">.</span><span class="token-method">createMediaStreamSource</span><span class="token-punctuation">(</span><span class="token-plain">stream</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Og deretter connecte denne på samme måte i pipeline</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-keyword">const</span><span class="token-plain"> source </span><span class="token-operator">=</span><span class="token-plain"> audioContext</span><span class="token-punctuation">.</span><span class="token-method">createMediaStreamSource</span><span class="token-punctuation">(</span><span class="token-plain">stream</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">​</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">Oppgave 1: Volume progress (20min)</h2><p class="css-17i1bd7">Implementer uthenting av volum basert på UserMedia, AudioWorklets og bruk <code class="css-ksqtdq">test-volume.ts</code> for å bekrefte at alt fungerer.</p></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">Pause (10min)</h2></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">Spill og game loops</h2><p class="css-17i1bd7">Kontinuerlige og gradvise tilstandsendringer</p></div><div class="css-ih5bxe"><style data-emotion-css="12uumu4">.css-12uumu4{width:100%;height:100%;background-image:url(/static/gameloop-4120951fc798f3ed5ed700d185e4e147.png);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div class="css-12uumu4"></div></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">let</span><span class="token-plain"> someInput </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">while</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-boolean">true</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">  </span><span class="token-function">manipulateSomeInput</span><span class="token-punctuation">(</span><span class="token-plain">someInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-function">draw</span><span class="token-punctuation">(</span><span class="token-plain">someInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">  </span><span class="token-function">manipulateSomeInput</span><span class="token-punctuation">(</span><span class="token-plain">someInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">  </span><span class="token-function">manipulateSomeInput</span><span class="token-punctuation">(</span><span class="token-plain">someInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">  </span><span class="token-function">manipulateSomeInput</span><span class="token-punctuation">(</span><span class="token-plain">someInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">  </span><span class="token-function">manipulateSomeInput</span><span class="token-punctuation">(</span><span class="token-plain">someInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">  </span><span class="token-function">manipulateSomeInput</span><span class="token-punctuation">(</span><span class="token-plain">someInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Men dette vil ikke fungere bra i nettleseren</span></p></div></div></div></div></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">Single threaded</h2><p class="css-17i1bd7">I dette eksemplet vil vi oppta CPU-en hele tiden. Det vil også være
veldig mye unødvendig arbeid.</p></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">Spre ut over tid</h2><p class="css-17i1bd7">Vi ønsker gjerne rundt <code class="css-ksqtdq">60fps</code> for at det ikke skal oppleves dårlig.
Det betyr at vi skal gjøre endringer <code class="css-ksqtdq">1000ms/60 = 16ms</code>.</p></div><div class="css-ih5bxe"><style data-emotion-css="1gmm9ru">.css-1gmm9ru{width:100%;height:100%;background-image:url(/static/crp-c6986856a95ed8bd36e3f630d203dbf7.png);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div style="background-size:contain;background-color:#fff" class="css-1gmm9ru"></div></div><div class="css-ih5bxe"><style data-emotion-css="o60dx6">.css-o60dx6{width:100%;height:100%;background-image:url(/static/repaint-4bcc7e955edaf5c48dd3336502035c06.png);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div class="css-o60dx6"></div></div><div class="css-ih5bxe"><style data-emotion-css="zq61qj">.css-zq61qj{width:100%;height:100%;background-image:url(/static/repaint-faded-4c90c77c79aaaa1972ccef8e212c2846.png);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div class="css-zq61qj"></div></div><div class="css-ih5bxe"><h2 class="css-1bgxorb"><code class="css-ksqtdq">setInterval</code> eller <code class="css-ksqtdq">setTimeout</code> til unnsetning?</h2></div><div class="css-ih5bxe"><style data-emotion-css="mrbwpe">.css-mrbwpe{width:100%;height:100%;background-image:url(/static/eventloop-2d7c80581cbcd00bf3d73f896abb4fca.gif);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div class="css-mrbwpe"></div></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">let</span><span class="token-plain"> someInput </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-keyword">while</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-boolean">true</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-function">manipulateSomeInput</span><span class="token-punctuation">(</span><span class="token-plain">someInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">  </span><span class="token-function">draw</span><span class="token-punctuation">(</span><span class="token-plain">someInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-function">manipulateSomeInput</span><span class="token-punctuation">(</span><span class="token-plain">someInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-function">manipulateSomeInput</span><span class="token-punctuation">(</span><span class="token-plain">someInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">👍?</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-function">manipulateSomeInput</span><span class="token-punctuation">(</span><span class="token-plain">someInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">👎!</span></p></div></div></div></div></div><div class="css-ih5bxe"><h2 class="css-1bgxorb"><code class="css-ksqtdq">setTimeout</code> og <code class="css-ksqtdq">setInterval</code> er ustabilt</h2><p class="css-17i1bd7">Det er ingen garanti for at det tar nøyaktig <code class="css-ksqtdq">16.6ms</code>
mellom hver kjøring. På grunn av måten EventLoopen i
nettleseren fungerer så kan den ligge litt i call stack eller queue</p></div><div class="css-ih5bxe"><style data-emotion-css="1h9yh3l">.css-1h9yh3l{width:100%;height:100%;background-image:url(/static/repaint-delay-3aab9bdf016e07a595e0bd88ff9e878a.png);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div class="css-1h9yh3l"></div></div><div class="css-ih5bxe"><style data-emotion-css="5o7to8">.css-5o7to8{width:100%;height:100%;background-image:url(/static/repaint-yank-89992ff216d219823085e27a8163ce2c.png);background-size:cover;background-position:center;background-repeat:no-repeat;}</style><div class="css-5o7to8"></div></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">rAF!</h2><p class="css-17i1bd7"><code class="css-ksqtdq">requestAnimationFrame</code> altså.</p></div><div class="css-ih5bxe"><div style="background-size:contain;background-color:#fff" class="css-1gmm9ru"></div></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">let</span><span class="token-plain"> someInput </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-function">setInterval</span><span class="token-punctuation">(</span><span class="token-keyword">function</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-function">manipulateSomeInput</span><span class="token-punctuation">(</span><span class="token-plain">someInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">  </span><span class="token-function">draw</span><span class="token-punctuation">(</span><span class="token-plain">someInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-punctuation">}</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-number">1000</span><span class="token-plain"> </span><span class="token-operator">/</span><span class="token-plain"> </span><span class="token-number">60</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span><span class="token-plain"> </span><span class="token-comment">// 60fps</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-function">manipulateSomeInput</span><span class="token-punctuation">(</span><span class="token-plain">someInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-function">manipulateSomeInput</span><span class="token-punctuation">(</span><span class="token-plain">someInput</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Rekursivitet</span></p></div></div></div></div></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">En ting til...</h2><p class="css-17i1bd7"><code class="css-ksqtdq">SVG</code> og <code class="css-ksqtdq">DOM</code>!</p></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:0.8em;position:relative" class="cs-col-layout"><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="abvz12">.css-abvz12{color:#393A34;background-color:#f6f8fa;}.css-abvz12 .token-prolog,.css-abvz12 .token-constant,.css-abvz12 .token-builtin{color:rgb(189,147,249);}.css-abvz12 .token-inserted,.css-abvz12 .token-function{color:rgb(80,250,123);}.css-abvz12 .token-deleted{color:rgb(255,85,85);}.css-abvz12 .token-changed{color:rgb(255,184,108);}.css-abvz12 .token-punctuation,.css-abvz12 .token-symbol{color:rgb(248,248,242);}.css-abvz12 .token-string,.css-abvz12 .token-char,.css-abvz12 .token-tag,.css-abvz12 .token-selector{color:rgb(255,121,198);}.css-abvz12 .token-keyword,.css-abvz12 .token-variable{color:rgb(189,147,249);font-style:italic;}.css-abvz12 .token-comment{color:rgb(98,114,164);}.css-abvz12 .token-attr-name{color:rgb(241,250,140);}.css-abvz12 .token-comment,.css-abvz12 .token-prolog,.css-abvz12 .token-doctype,.css-abvz12 .token-cdata{color:#999988;font-style:italic;}.css-abvz12 .token-namespace{opacity:0.7;}.css-abvz12 .token-string,.css-abvz12 .token-attr-value{color:#e3116c;}.css-abvz12 .token-punctuation,.css-abvz12 .token-operator{color:#393A34;}.css-abvz12 .token-entity,.css-abvz12 .token-url,.css-abvz12 .token-symbol,.css-abvz12 .token-number,.css-abvz12 .token-boolean,.css-abvz12 .token-variable,.css-abvz12 .token-constant,.css-abvz12 .token-property,.css-abvz12 .token-regex,.css-abvz12 .token-inserted{color:#36acaa;}.css-abvz12 .token-atrule,.css-abvz12 .token-keyword,.css-abvz12 .token-attr-name,.css-abvz12 .token-selector{color:#00a4db;}.css-abvz12 .token-function,.css-abvz12 .token-deleted,.css-abvz12 .token-tag{color:#d73a49;}.css-abvz12 .token-function-variable{color:#6f42c1;}.css-abvz12 .token-tag,.css-abvz12 .token-selector{color:#00009f;}</style><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="zvc9pj">.css-zvc9pj{font-family:"Fira Code",monospace;color:#393A34;background-color:#f6f8fa;}</style><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-punctuation">&lt;</span><span class="token-tag">div</span><span class="token-tag"> </span><span class="token-attr-name">id</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">foo</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span><span class="token-punctuation">/&gt;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-punctuation">&lt;</span><span class="token-tag">div</span><span class="token-tag"> </span><span class="token-attr-name">id</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">foo</span><span class="token-punctuation">&quot;</span><span class="token-tag"> </span><span class="token-punctuation">/&gt;</span></div></div><div></div></code></pre></div></div></div></div><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="qbfa07">.css-qbfa07{font-family:"Fira Code",monospace;color:#F8F8F2;background-color:#282A36;}</style><code class="cs-scaled-content css-qbfa07" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> foo </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelector</span><span class="token-punctuation">(</span><span class="token-string">&#x27;#foo&#x27;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">// foo =&gt; &lt;div id=&quot;foo&quot; /&gt;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-qbfa07" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> foo </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelector</span><span class="token-punctuation">(</span><span class="token-string">&#x27;#foo&#x27;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-comment">// foo =&gt; &lt;div id=&quot;foo&quot; /&gt;</span></div></div><div></div></code></pre></div></div></div></div></div></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:0.8em;position:relative" class="cs-col-layout"><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-punctuation">&lt;</span><span class="token-tag">svg</span><span class="token-tag"> </span><span class="token-attr-name">xmlns</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">http://www.w3.org/2000/svg</span><span class="token-punctuation">&quot;</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">  </span><span class="token-punctuation">&lt;</span><span class="token-tag">path</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-tag">    </span><span class="token-attr-name">id</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">player</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-tag">    </span><span class="token-attr-name">stroke</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">white</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-tag">    </span><span class="token-attr-name">stroke-width</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">6</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-tag">  </span><span class="token-punctuation">/&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-punctuation">&lt;/</span><span class="token-tag">svg</span><span class="token-punctuation">&gt;</span></div></div><div></div></code></pre></div></div></div></div><div style="flex:1;overflow:hidden;height:100%"><div style="display:flex;justify-content:center;align-items:center;height:100%"><svg xmlns="http://www.w3.org/2000/svg"><path id="player" d="M44 42.6795L74 60L44 77.3205L44 42.6795Z" stroke="white" stroke-width="6"></path></svg></div></div></div></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:0.8em;position:relative" class="cs-col-layout"><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-punctuation">&lt;</span><span class="token-tag">svg</span><span class="token-tag"> </span><span class="token-attr-name">xmlns</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">http://www.w3.org/2000/svg</span><span class="token-punctuation">&quot;</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">  </span><span class="token-punctuation">&lt;</span><span class="token-tag">path</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-tag">    </span><span class="token-attr-name">id</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">player</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-tag">    </span><span class="token-attr-name">stroke</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">black</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-tag">    </span><span class="token-attr-name">stroke-width</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">6</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-tag">  </span><span class="token-punctuation">/&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-punctuation">&lt;/</span><span class="token-tag">svg</span><span class="token-punctuation">&gt;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-tag">  </span><span class="token-punctuation">/&gt;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-tag">  </span><span class="token-punctuation">/&gt;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-tag">  </span><span class="token-punctuation">/&gt;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-tag">  </span><span class="token-punctuation">/&gt;</span></div></div><div></div></code></pre></div></div></div></div><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-qbfa07" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> playerPath </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelector</span><span class="token-punctuation">(</span><span class="token-string">&#x27;#player&#x27;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-comment">//=&gt; &#x27;black&#x27;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-comment">// playerPath =&gt; &lt;path ... /&gt;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-qbfa07" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> playerPath </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelector</span><span class="token-punctuation">(</span><span class="token-string">&#x27;#player&#x27;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-comment">//=&gt; &#x27;black&#x27;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-qbfa07" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> playerPath </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelector</span><span class="token-punctuation">(</span><span class="token-string">&#x27;#player&#x27;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-comment">//=&gt; &#x27;black&#x27;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-qbfa07" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> playerPath </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelector</span><span class="token-punctuation">(</span><span class="token-string">&#x27;#player&#x27;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-comment">//=&gt; &#x27;black&#x27;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-qbfa07" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> playerPath </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelector</span><span class="token-punctuation">(</span><span class="token-string">&#x27;#player&#x27;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-comment">//=&gt; &#x27;black&#x27;</span></div></div><div></div></code></pre></div></div></div></div></div></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">Transform</h2></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:0.8em;position:relative" class="cs-col-layout"><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-punctuation">&lt;</span><span class="token-tag">svg</span><span class="token-tag"> </span><span class="token-attr-name">xmlns</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">http://www.w3.org/2000/svg</span><span class="token-punctuation">&quot;</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">  </span><span class="token-punctuation">&lt;</span><span class="token-tag">path</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-tag">    </span><span class="token-attr-name">id</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">player</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-tag">    </span><span class="token-attr-name">stroke</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">#f00</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-tag">    </span><span class="token-attr-name">stroke-width</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">6</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-tag">  </span><span class="token-punctuation">/&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-punctuation">&lt;/</span><span class="token-tag">svg</span><span class="token-punctuation">&gt;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-tag">  </span><span class="token-punctuation">/&gt;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-tag">  </span><span class="token-punctuation">/&gt;</span></div></div><div></div></code></pre></div></div></div></div><div style="flex:1;overflow:hidden;height:100%"><div style="display:flex;justify-content:center;align-items:center;height:100%"><svg xmlns="http://www.w3.org/2000/svg"><path id="player" d="M44 42.6795L74 60L44 77.3205L44 42.6795Z" stroke="#f00" stroke-width="6" style="transition:all 1s ease-in" transform="translate(150, 0)"></path></svg></div></div></div></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:0.8em;position:relative" class="cs-col-layout"><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-punctuation">&lt;</span><span class="token-tag">svg</span><span class="token-tag"> </span><span class="token-attr-name">xmlns</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">http://www.w3.org/2000/svg</span><span class="token-punctuation">&quot;</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">  </span><span class="token-punctuation">&lt;</span><span class="token-tag">path</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-tag">    </span><span class="token-attr-name">id</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">player</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-tag">    </span><span class="token-attr-name">stroke</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">#f00</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-tag">    </span><span class="token-attr-name">stroke-width</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">6</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-tag">  </span><span class="token-punctuation">/&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-punctuation">&lt;/</span><span class="token-tag">svg</span><span class="token-punctuation">&gt;</span></div></div><div></div></code></pre></div></div></div></div><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-qbfa07" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> playerPath </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelector</span><span class="token-punctuation">(</span><span class="token-string">&#x27;#player&#x27;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">playerPath</span><span class="token-punctuation">.</span><span class="token-method">setAttribute</span><span class="token-punctuation">(</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">  </span><span class="token-string">&#x27;transform&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-template-punctuation">`</span><span class="token-string">translate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">xValue</span><span class="token-interpolation-punctuation">}</span><span class="token-string">, 0)</span><span class="token-template-punctuation">`</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div></div></div></div></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">Oppgave 2: Drag race (15min)</h2><pre class="css-p7913k"><code class="css-ksqtdq">1. Lag en enkel render-loop.
2. Hent ut player fra DOM, bruk Volume fra tidligere
   til å kjøre translateX på Player-elementet.
</code></pre></div><div class="css-ih5bxe"><style data-emotion-css="wiyswq">.css-wiyswq{font-family:'Josefin Sans',sans-serif;line-height:1.2;font-weight:700;margin:0;}</style><h3 class="css-wiyswq">Pause</h3></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">Mer transform</h2></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:0.8em;position:relative" class="cs-col-layout"><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-punctuation">&lt;</span><span class="token-tag">svg</span><span class="token-tag"> </span><span class="token-attr-name">xmlns</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">http://www.w3.org/2000/svg</span><span class="token-punctuation">&quot;</span><span class="token-punctuation">&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">  </span><span class="token-punctuation">&lt;</span><span class="token-tag">path</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-tag">    </span><span class="token-attr-name">id</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">player</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-tag">    </span><span class="token-attr-name">stroke</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">#f00</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-tag">    </span><span class="token-attr-name">stroke-width</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">6</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-tag">    </span><span class="token-attr-name">}}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-tag">  </span><span class="token-punctuation">/&gt;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-punctuation">&lt;/</span><span class="token-tag">svg</span><span class="token-punctuation">&gt;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-tag">    </span><span class="token-attr-name">}}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-tag">    </span><span class="token-attr-name">}}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-tag">    </span><span class="token-attr-name">}}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-tag">    </span><span class="token-attr-name">}}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-tag">    </span><span class="token-attr-name">}}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-tag">    </span><span class="token-attr-name">}}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-tag">    </span><span class="token-attr-name">d</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">M44 42.6795L74 60L44 77.3205L44 42.6795Z</span><span class="token-punctuation">&quot;</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-tag">    </span><span class="token-attr-name">}}</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-tag">    </span><span class="token-attr-name">transform</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">translate(100, 0) rotate(-90) scale(2) skewY(10) skewX(10)</span><span class="token-punctuation">&quot;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-abvz12" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-zvc9pj" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-tag">    </span><span class="token-attr-name">}}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-tag">    </span><span class="token-attr-name">transform</span><span class="token-punctuation">=</span><span class="token-punctuation">&quot;</span><span class="token-attr-value">translate(100, 0) rotate(-90) scale(2) skewY(10) skewX(10)</span><span class="token-punctuation">&quot;</span></div></div><div></div></code></pre></div></div></div></div><div style="flex:1;overflow:hidden;height:100%"><div style="display:flex;justify-content:center;align-items:center;height:100%"><svg xmlns="http://www.w3.org/2000/svg"><path id="player" d="M44 42.6795L74 60L44 77.3205L44 42.6795Z" stroke="#f00" stroke-width="6" style="transition:all 1s ease-in;transform-origin:center;transform-box:fill-box" transform="translate(100, 0) rotate(-90) scale(2) skewY(10) skewX(10)"></path></svg></div></div></div></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">Brukerinput</h2><pre class="css-p7913k"><code class="css-ksqtdq">EventListeners og Events.
</code></pre></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-dom">document</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-dom">window</span><span class="token-punctuation">.</span><span class="token-property-access">document</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelector</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-dom">document</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelector</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelectorAll</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-comment">// ... osv</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelectorAll</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-comment">// ... osv</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelectorAll</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-comment">// ... osv</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelectorAll</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-comment">// ... osv</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelectorAll</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">removeEventListener</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-comment">// ... osv</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">removeEventListener</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-comment">// ... osv</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">removeEventListener</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-comment">// ... osv</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">removeEventListener</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-comment">// ... osv</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">addEventListener</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">removeEventListener</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-comment">// ... osv</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">addEventListener</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// document.addEventListener(event: string, callback: Function);</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-comment">//=&gt; Key down d</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// document.addEventListener(event: string, callback: Function);</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-comment">//=&gt; Key down d</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// document.addEventListener(event: string, callback: Function);</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-comment">//=&gt; Key down d</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// document.addEventListener(event: string, callback: Function);</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-comment">//=&gt; Key down d</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// document.addEventListener(event: string, callback: Function);</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-comment">//=&gt; Key down d</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// document.addEventListener(event: string, callback: Function);</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-comment">//=&gt; Key down d</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// document.addEventListener(event: string, callback: Function);</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-comment">//=&gt; Key down d</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// document.addEventListener(event: string, callback: Function);</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-comment">//=&gt; Key down d</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// document.addEventListener(event: string, callback: Function);</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-comment">//=&gt; Key down d</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// document.addEventListener(event: string, callback: Function);</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-comment">//=&gt; Key down d</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// document.addEventListener(event: string, callback: Function);</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-comment">//=&gt; Key down d</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// document.addEventListener(event: string, callback: Function);</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-comment">//=&gt; Key down d</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// document.addEventListener(event: string, callback: Function);</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-comment">//=&gt; Key down d</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-comment">// document.addEventListener(event: string, callback: Function);</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-comment">//=&gt; Key down d</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:row;justify-content:center;align-items:center;font-size:0.8em;position:relative" class="cs-col-layout"><div style="flex:1;overflow:hidden;height:100%"><div style="display:flex;justify-content:center;align-items:center;height:100%"><div></div></div></div><div style="flex:1;overflow:hidden;height:100%"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-qbfa07" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">let</span><span class="token-plain"> active </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-string">&#x27;&#x27;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">addEventListener</span><span class="token-punctuation">(</span><span class="token-string">&#x27;keydown&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">ev</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">addEventListener</span><span class="token-punctuation">(</span><span class="token-string">&#x27;keyup&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">ev</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  active </span><span class="token-operator">=</span><span class="token-plain"> ev</span><span class="token-punctuation">.</span><span class="token-property-access">key</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">addEventListener</span><span class="token-punctuation">(</span><span class="token-string">&#x27;keyDown&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">  active </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-string">&#x27;&#x27;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-qbfa07" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">addEventListener</span><span class="token-punctuation">(</span><span class="token-string">&#x27;keydown&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">ev</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-qbfa07" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">addEventListener</span><span class="token-punctuation">(</span><span class="token-string">&#x27;keydown&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">ev</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-qbfa07" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">addEventListener</span><span class="token-punctuation">(</span><span class="token-string">&#x27;keydown&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">ev</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">​</span></div></div><div></div></code></pre></div></div></div></div></div></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">Nå vet vi om vi skal svinge</h2><pre class="css-p7913k"><code class="css-ksqtdq">...men
</code></pre></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">Svinging er ikke rett frem.</h2></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> player </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-dom">document</span><span class="token-punctuation">.</span><span class="token-method">querySelector</span><span class="token-punctuation">(</span><span class="token-string">&#x27;#player&#x27;</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-keyword">function</span><span class="token-plain"> </span><span class="token-function">loop</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">​</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> transform </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">translate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">x</span><span class="token-interpolation-punctuation">}</span><span class="token-string">, </span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">y</span><span class="token-interpolation-punctuation">}</span><span class="token-string">) rotate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">degrees</span><span class="token-interpolation-punctuation">}</span><span class="token-string">)</span><span class="token-template-punctuation">`</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> transform </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">translate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">volume</span><span class="token-interpolation-punctuation">}</span><span class="token-string">, 0)</span><span class="token-template-punctuation">`</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">  player</span><span class="token-punctuation">.</span><span class="token-method">setAttribute</span><span class="token-punctuation">(</span><span class="token-string">&#x27;transform&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> transform</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">  </span><span class="token-function">requestAnimationFrame</span><span class="token-punctuation">(</span><span class="token-plain">loop</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-function">requestAnimationFrame</span><span class="token-punctuation">(</span><span class="token-plain">loop</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> transform </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">translate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">x</span><span class="token-interpolation-punctuation">}</span><span class="token-string">, </span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">y</span><span class="token-interpolation-punctuation">}</span><span class="token-string">) rotate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">degrees</span><span class="token-interpolation-punctuation">}</span><span class="token-string">)</span><span class="token-template-punctuation">`</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> transform </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">translate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">x</span><span class="token-interpolation-punctuation">}</span><span class="token-string">, </span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">y</span><span class="token-interpolation-punctuation">}</span><span class="token-string">) rotate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">degrees</span><span class="token-interpolation-punctuation">}</span><span class="token-string">)</span><span class="token-template-punctuation">`</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> transform </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">translate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">x</span><span class="token-interpolation-punctuation">}</span><span class="token-string">, </span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">y</span><span class="token-interpolation-punctuation">}</span><span class="token-string">) rotate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">degrees</span><span class="token-interpolation-punctuation">}</span><span class="token-string">)</span><span class="token-template-punctuation">`</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> transform </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">translate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">x</span><span class="token-interpolation-punctuation">}</span><span class="token-string">, </span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">y</span><span class="token-interpolation-punctuation">}</span><span class="token-string">) rotate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">degrees</span><span class="token-interpolation-punctuation">}</span><span class="token-string">)</span><span class="token-template-punctuation">`</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> transform </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">translate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">x</span><span class="token-interpolation-punctuation">}</span><span class="token-string">, </span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">y</span><span class="token-interpolation-punctuation">}</span><span class="token-string">) rotate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">degrees</span><span class="token-interpolation-punctuation">}</span><span class="token-string">)</span><span class="token-template-punctuation">`</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> transform </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">translate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">x</span><span class="token-interpolation-punctuation">}</span><span class="token-string">, </span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">y</span><span class="token-interpolation-punctuation">}</span><span class="token-string">) rotate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">degrees</span><span class="token-interpolation-punctuation">}</span><span class="token-string">)</span><span class="token-template-punctuation">`</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> transform </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">translate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">x</span><span class="token-interpolation-punctuation">}</span><span class="token-string">, </span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">y</span><span class="token-interpolation-punctuation">}</span><span class="token-string">) rotate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">degrees</span><span class="token-interpolation-punctuation">}</span><span class="token-string">)</span><span class="token-template-punctuation">`</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> transform </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">translate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">x</span><span class="token-interpolation-punctuation">}</span><span class="token-string">, </span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">y</span><span class="token-interpolation-punctuation">}</span><span class="token-string">) rotate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">degrees</span><span class="token-interpolation-punctuation">}</span><span class="token-string">)</span><span class="token-template-punctuation">`</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> transform </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">translate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">x</span><span class="token-interpolation-punctuation">}</span><span class="token-string">, </span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">y</span><span class="token-interpolation-punctuation">}</span><span class="token-string">) rotate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">degrees</span><span class="token-interpolation-punctuation">}</span><span class="token-string">)</span><span class="token-template-punctuation">`</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> transform </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-template-punctuation">`</span><span class="token-string">translate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">x</span><span class="token-interpolation-punctuation">}</span><span class="token-string">, </span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">y</span><span class="token-interpolation-punctuation">}</span><span class="token-string">) rotate(</span><span class="token-interpolation-punctuation">${</span><span class="token-interpolation">degrees</span><span class="token-interpolation-punctuation">}</span><span class="token-string">)</span><span class="token-template-punctuation">`</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-ih5bxe"><h2 class="css-1bgxorb">Oppgave 3: Event Listeners og kjøring (10min)</h2><pre class="css-p7913k"><code class="css-ksqtdq">1. Lag en ControlInput modul som holder
   tilstand på venstre/høyre.
2. Bruk cart.updateByVolume til å hente ut
   ny x, y, og degrees.
3. bruk transform basert på resultat.
4. Kjør cart!

(Om du tør: Skriv updateByVolume logikk selv)
</code></pre></div><div class="css-ih5bxe"><h3 class="css-wiyswq">Pause (10min)</h3></div><div class="css-ih5bxe"><h3 class="css-wiyswq">Del 4: P2P, WebRTC og PeerJS (20min)</h3></div><div class="css-ih5bxe"><h3 class="css-wiyswq">Peer-to-peer (P2P)</h3><ul class="css-1uk1gs8"><li class="css-1sq1gba">Peer-to-peer brukes i distribuerte løsninger</li><li class="css-1sq1gba">&quot;Peers&quot; kobler direkte til hverandre</li><li class="css-1sq1gba">Kjente løsninger som bruker P2P: Napster, BitTorrent, Bitcoin</li></ul></div><div class="css-ih5bxe"><div><div><span>Peer: <!-- -->A</span><div><button>Send ping</button><p>Melding: </p></div></div><div><span>Peer: <!-- -->B</span><div><button>Send ping</button><p>Melding: </p></div></div></div></div><div class="css-ih5bxe"><h3 class="css-wiyswq">WebRTC</h3><ul class="css-1uk1gs8"><li class="css-1sq1gba">Web Real-Time Communication</li><li class="css-1sq1gba">Et nettleser-API for å kommunisere peer-to-peer</li><li class="css-1sq1gba">Støtter strømming av audio/video media</li><li class="css-1sq1gba">Støtter også å sende andre data direkte</li></ul></div><div class="css-ih5bxe"><h3 class="css-wiyswq">PeerJS</h3><p class="css-17i1bd7">Et bibliotek som bygger på toppen av WebRTC</p></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-maybe-class-name">Peer</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;peerjs&#x27;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-keyword">import</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">  </span><span class="token-maybe-class-name">RecieveDataPayload</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-maybe-class-name">SendDataPayload</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-keyword">from</span><span class="token-plain"> </span><span class="token-string">&#x27;../../types&#x27;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-keyword">const</span><span class="token-plain"> serverId </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-string">&#x27;test-shriek-local&#x27;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-keyword">type</span><span class="token-plain"> </span><span class="token-maybe-class-name">Listener</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">data</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-maybe-class-name">RecieveDataPayload</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-keyword">void</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-keyword">e</span><span class="token-keyword">x</span><span class="token-keyword">p</span><span class="token-keyword">o</span><span class="token-keyword">r</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-keyword">d</span><span class="token-keyword">e</span><span class="token-keyword">f</span><span class="token-keyword">a</span><span class="token-keyword">u</span><span class="token-keyword">l</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-keyword">f</span><span class="token-keyword">u</span><span class="token-keyword">n</span><span class="token-keyword">c</span><span class="token-keyword">t</span><span class="token-keyword">i</span><span class="token-keyword">o</span><span class="token-keyword">n</span><span class="token-plain"> </span><span class="token-function">c</span><span class="token-function">o</span><span class="token-function">n</span><span class="token-function">n</span><span class="token-function">e</span><span class="token-function">c</span><span class="token-function">t</span><span class="token-punctuation">(</span><span class="token-function-variable">o</span><span class="token-function-variable">n</span><span class="token-function-variable">C</span><span class="token-function-variable">o</span><span class="token-function-variable">n</span><span class="token-function-variable">n</span><span class="token-function-variable">e</span><span class="token-function-variable">c</span><span class="token-function-variable">t</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=</span><span class="token-arrow">&gt;</span><span class="token-plain"> </span><span class="token-keyword">v</span><span class="token-keyword">o</span><span class="token-keyword">i</span><span class="token-keyword">d</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">  </span><span class="token-keyword">let</span><span class="token-plain"> connIsOpened </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">false</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">  </span><span class="token-keyword">let</span><span class="token-plain"> conn</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-maybe-class-name">Peer</span><span class="token-punctuation">.</span><span class="token-maybe-class-name">DataConnection</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">null</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">  </span><span class="token-keyword">let</span><span class="token-plain"> listener</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-maybe-class-name">Listener</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">  </span><span class="token-keyword">const</span><span class="token-plain"> peer </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-maybe-class-name">Peer</span><span class="token-punctuation">(</span><span class="token-keyword">null</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> debug</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-number">2</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">  peer</span><span class="token-punctuation">.</span><span class="token-method">on</span><span class="token-punctuation">(</span><span class="token-string">&#x27;open&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">c</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">    conn </span><span class="token-operator">=</span><span class="token-plain"> peer</span><span class="token-punctuation">.</span><span class="token-method">connect</span><span class="token-punctuation">(</span><span class="token-plain">serverId</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">    conn</span><span class="token-punctuation">.</span><span class="token-method">on</span><span class="token-punctuation">(</span><span class="token-string">&#x27;open&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-plain">      connIsOpened </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-boolean">true</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-18"><span class="token-plain">      </span><span class="token-function">onConnect</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-19"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-20"><span class="token-plain">    conn</span><span class="token-punctuation">.</span><span class="token-method">on</span><span class="token-punctuation">(</span><span class="token-string">&#x27;data&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> listener</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-21"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-22"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-23"><span class="token-plain">  </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-24"><span class="token-plain">    </span><span class="token-function-variable">onData</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">cb</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-maybe-class-name">Listener</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-25"><span class="token-plain">      listener </span><span class="token-operator">=</span><span class="token-plain"> cb</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-26"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-27"><span class="token-plain">    </span><span class="token-function-variable">send</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">data</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-maybe-class-name">SendDataPayload</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-28"><span class="token-plain">      </span><span class="token-keyword">if</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">connIsOpened</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-29"><span class="token-plain">        conn</span><span class="token-punctuation">.</span><span class="token-method">send</span><span class="token-punctuation">(</span><span class="token-plain">data</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-30"><span class="token-plain">      </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-31"><span class="token-plain">    </span><span class="token-punctuation">}</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-32"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-33"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-keyword">e</span><span class="token-keyword">x</span><span class="token-keyword">p</span><span class="token-keyword">o</span><span class="token-keyword">r</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-keyword">d</span><span class="token-keyword">e</span><span class="token-keyword">f</span><span class="token-keyword">a</span><span class="token-keyword">u</span><span class="token-keyword">l</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-keyword">f</span><span class="token-keyword">u</span><span class="token-keyword">n</span><span class="token-keyword">c</span><span class="token-keyword">t</span><span class="token-keyword">i</span><span class="token-keyword">o</span><span class="token-keyword">n</span><span class="token-plain"> </span><span class="token-function">c</span><span class="token-function">o</span><span class="token-function">n</span><span class="token-function">n</span><span class="token-function">e</span><span class="token-function">c</span><span class="token-function">t</span><span class="token-punctuation">(</span><span class="token-function-variable">o</span><span class="token-function-variable">n</span><span class="token-function-variable">C</span><span class="token-function-variable">o</span><span class="token-function-variable">n</span><span class="token-function-variable">n</span><span class="token-function-variable">e</span><span class="token-function-variable">c</span><span class="token-function-variable">t</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=</span><span class="token-arrow">&gt;</span><span class="token-plain"> </span><span class="token-keyword">v</span><span class="token-keyword">o</span><span class="token-keyword">i</span><span class="token-keyword">d</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Vårt PeerJS-lib tilbyr en connect-funksjon</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">​</span></div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-keyword">e</span><span class="token-keyword">x</span><span class="token-keyword">p</span><span class="token-keyword">o</span><span class="token-keyword">r</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-keyword">d</span><span class="token-keyword">e</span><span class="token-keyword">f</span><span class="token-keyword">a</span><span class="token-keyword">u</span><span class="token-keyword">l</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-keyword">f</span><span class="token-keyword">u</span><span class="token-keyword">n</span><span class="token-keyword">c</span><span class="token-keyword">t</span><span class="token-keyword">i</span><span class="token-keyword">o</span><span class="token-keyword">n</span><span class="token-plain"> </span><span class="token-function">c</span><span class="token-function">o</span><span class="token-function">n</span><span class="token-function">n</span><span class="token-function">e</span><span class="token-function">c</span><span class="token-function">t</span><span class="token-punctuation">(</span><span class="token-function-variable">o</span><span class="token-function-variable">n</span><span class="token-function-variable">C</span><span class="token-function-variable">o</span><span class="token-function-variable">n</span><span class="token-function-variable">n</span><span class="token-function-variable">e</span><span class="token-function-variable">c</span><span class="token-function-variable">t</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=</span><span class="token-arrow">&gt;</span><span class="token-plain"> </span><span class="token-keyword">v</span><span class="token-keyword">o</span><span class="token-keyword">i</span><span class="token-keyword">d</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k"><span style="opacity:1">Hvor du kan sende inn en funksjon som kjøres ved oppkobling</span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-keyword">e</span><span class="token-keyword">x</span><span class="token-keyword">p</span><span class="token-keyword">o</span><span class="token-keyword">r</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-keyword">d</span><span class="token-keyword">e</span><span class="token-keyword">f</span><span class="token-keyword">a</span><span class="token-keyword">u</span><span class="token-keyword">l</span><span class="token-keyword">t</span><span class="token-plain"> </span><span class="token-keyword">f</span><span class="token-keyword">u</span><span class="token-keyword">n</span><span class="token-keyword">c</span><span class="token-keyword">t</span><span class="token-keyword">i</span><span class="token-keyword">o</span><span class="token-keyword">n</span><span class="token-plain"> </span><span class="token-function">c</span><span class="token-function">o</span><span class="token-function">n</span><span class="token-function">n</span><span class="token-function">e</span><span class="token-function">c</span><span class="token-function">t</span><span class="token-punctuation">(</span><span class="token-function-variable">o</span><span class="token-function-variable">n</span><span class="token-function-variable">C</span><span class="token-function-variable">o</span><span class="token-function-variable">n</span><span class="token-function-variable">n</span><span class="token-function-variable">e</span><span class="token-function-variable">c</span><span class="token-function-variable">t</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=</span><span class="token-arrow">&gt;</span><span class="token-plain"> </span><span class="token-keyword">v</span><span class="token-keyword">o</span><span class="token-keyword">i</span><span class="token-keyword">d</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div></div></code></pre><p class="cs-subtitle css-fs2d1k" style="opacity:1"><span style="opacity:1">Og den returnerer et objekt med to funksjoner</span></p></div></div></div></div></div><div class="css-ih5bxe"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-bt0i5n" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-ksqtdq" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">const</span><span class="token-plain"> peerClient </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-function">connectPeer</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">  peerClient</span><span class="token-punctuation">.</span><span class="token-method">send</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span><span class="token-plain"> </span><span class="token-keyword">type</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&#x27;nick&#x27;</span><span class="token-punctuation">,</span><span class="token-plain"> payload</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&#x27;Donkey&#x27;</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">peerClient</span><span class="token-punctuation">.</span><span class="token-method">onData</span><span class="token-punctuation">(</span><span class="token-punctuation">(</span><span class="token-plain">data</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">  </span><span class="token-keyword">switch</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-plain">data</span><span class="token-punctuation">.</span><span class="token-keyword">type</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">    </span><span class="token-keyword">case</span><span class="token-plain"> </span><span class="token-string">&#x27;walls&#x27;</span><span class="token-operator">:</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">      </span><span class="token-keyword">return</span><span class="token-plain"> world</span><span class="token-punctuation">.</span><span class="token-method">drawWalls</span><span class="token-punctuation">(</span><span class="token-plain">data</span><span class="token-punctuation">.</span><span class="token-property-access">payload</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">    </span><span class="token-keyword">case</span><span class="token-plain"> </span><span class="token-string">&#x27;goal&#x27;</span><span class="token-operator">:</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">      </span><span class="token-keyword">return</span><span class="token-plain"> world</span><span class="token-punctuation">.</span><span class="token-method">drawGoal</span><span class="token-punctuation">(</span><span class="token-plain">data</span><span class="token-punctuation">.</span><span class="token-property-access">payload</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">    </span><span class="token-keyword">case</span><span class="token-plain"> </span><span class="token-string">&#x27;update-opponents&#x27;</span><span class="token-operator">:</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">      </span><span class="token-keyword">return</span><span class="token-plain"> world</span><span class="token-punctuation">.</span><span class="token-method">updateOpponents</span><span class="token-punctuation">(</span><span class="token-plain">data</span><span class="token-punctuation">.</span><span class="token-property-access">payload</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-11"><span class="token-plain">    </span><span class="token-keyword">case</span><span class="token-plain"> </span><span class="token-string">&#x27;remove-opponents&#x27;</span><span class="token-operator">:</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-12"><span class="token-plain">      </span><span class="token-keyword">return</span><span class="token-plain"> world</span><span class="token-punctuation">.</span><span class="token-method">removeOpponents</span><span class="token-punctuation">(</span><span class="token-plain">data</span><span class="token-punctuation">.</span><span class="token-property-access">payload</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-13"><span class="token-plain">    </span><span class="token-keyword">case</span><span class="token-plain"> </span><span class="token-string">&#x27;winner&#x27;</span><span class="token-operator">:</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-14"><span class="token-plain">      </span><span class="token-function">alert</span><span class="token-punctuation">(</span><span class="token-string">&#x27;Winner!!\n The winner is... &#x27;</span><span class="token-plain"> </span><span class="token-operator">+</span><span class="token-plain"> data</span><span class="token-punctuation">.</span><span class="token-property-access">payload</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-15"><span class="token-plain">      </span><span class="token-keyword">return</span><span class="token-plain"> cart</span><span class="token-punctuation">.</span><span class="token-method">reset</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-16"><span class="token-plain">  </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-17"><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-ih5bxe"><style data-emotion-css="gmneuw">.css-gmneuw{font-family:'Josefin Sans',sans-serif;line-height:1.125;font-weight:700;}</style><h4 class="css-gmneuw">Oppgave: PeerJS</h4><p class="css-17i1bd7">Ta i bruk <code class="css-ksqtdq">connectPeer</code> for å koble til server.</p><ol class="css-1uk1gs8"><li class="css-1sq1gba">connect og send inn Nick.</li><li class="css-1sq1gba">Tegn vegger, mål og motstandere.</li><li class="css-1sq1gba">Gi varsel (<code class="css-ksqtdq">window.alert</code>) om noen vinner.</li><li class="css-1sq1gba">Send nye kordinater via server.</li></ol></div><div class="css-ih5bxe"></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/print";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-a077a2f07693a97228ae.js"],"app":["/app-0db4bd6bf60e11445858.js"],"component---gatsby-theme-mdx-deck-src-templates-deck-js":["/component---gatsby-theme-mdx-deck-src-templates-deck-js-ecc75058e5644a618726.js"]};/*]]>*/</script><script src="/polyfill-a077a2f07693a97228ae.js" nomodule=""></script><script src="/component---gatsby-theme-mdx-deck-src-templates-deck-js-ecc75058e5644a618726.js" async=""></script><script src="/app-0db4bd6bf60e11445858.js" async=""></script><script src="/framework-e4952f826774c332bedf.js" async=""></script><script src="/webpack-runtime-52f6e96fcb682bc9ffae.js" async=""></script></body></html>